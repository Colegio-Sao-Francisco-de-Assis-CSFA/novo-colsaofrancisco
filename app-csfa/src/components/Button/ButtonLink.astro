---
import type { HTMLAttributes } from 'astro/types';
    
    interface Props extends HTMLAttributes<"a">{
        size?: "sm" | "md" | "lg";
        isfilled?: boolean;
        theme?:
            | "primary"
            | "danger"
            | "info"
            | "light"
            | "dark";
        classes?: string; 
        link: string;
        target: "_blank";
     }

    const{
        size = "md",
        isfilled,
        theme = "light",
        classes,
        link,
        target,
        ...rest
    } = Astro.props
    
    const background = `var(--${theme})`;
    const foreground = theme === "light" ? "var(--primary)" : "var(--light)"

---

<a  data-size={size} 
    class:list={[classes, {filled: isfilled}]}
    href={link} 
    target={target}
    {...rest}
>
        <slot/>
</a>


<style define:vars={{
    foreground,
    background,
}}>

    :where(a){
        /* resets */
        font: inherit;
        cursor: pointer;
        
        /* variaveis */
        --bkg: var(--background);
        --color: var(--foreground);

        /* default styles */
        text-decoration: none;
        display: inline-flex;
        gap: 0.5em;
        align-items: center;
        background-color: var(--light);
        color: var(--bkg);
        border: 0.2em solid var(--bkg);
        padding: 0.4em 1.2em;
        transition: box-shadow .2s cubic-bezier(0.075, 0.82, 0.165, 1), 
            opacity .2s ease-in-out, 
            scale .2s ease-in-out, 
        ;
    }

    :where(a.filled){
        background-color: var(--bkg);
        color: var(--foreground);
        border: none;
    }
    a:hover{
        opacity: 0.8;
        scale: 1.05;
    }

    a:focus{
        outline-color: transparent;
    }
    a:focus-visible{
        box-shadow: 0 0 0 0.1em var(--light), 0 0 0 0.2em var(--bkg);
    }

    [data-size="sm"]{
        font-size: 0.8rem;
    }
    [data-size="md"]{
        font-size: 1.2rem;
    }
    [data-size="lg"]{
        font-size: 1.6rem;
    }
     
</style>